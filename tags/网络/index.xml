<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>ç½‘ç»œ on starâ€˜s Blog</title>
        <link>https://example.com/tags/%E7%BD%91%E7%BB%9C/</link>
        <description>Recent content in ç½‘ç»œ on starâ€˜s Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>Example Person</copyright>
        <lastBuildDate>Tue, 30 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://example.com/tags/%E7%BD%91%E7%BB%9C/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>ç½‘ç»œæ’éšœå·¥å…·conntrack</title>
        <link>https://example.com/p/%E7%BD%91%E7%BB%9C%E6%8E%92%E9%9A%9C%E5%B7%A5%E5%85%B7conntrack/</link>
        <pubDate>Tue, 30 Dec 2025 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E7%BD%91%E7%BB%9C%E6%8E%92%E9%9A%9C%E5%B7%A5%E5%85%B7conntrack/</guid>
        <description>&lt;p&gt;åœ¨ç½‘ç»œæ•…éšœæ’æŸ¥ä¸­ï¼Œ&lt;code&gt;conntrack&lt;/code&gt; æ˜¯æ´å¯Ÿå†…æ ¸è¿æ¥è·Ÿè¸ªçŠ¶æ€çš„æ ¸å¿ƒå·¥å…·ã€‚å®ƒä¸ç›´æ¥é…ç½®ç½‘ç»œï¼Œè€Œæ˜¯åƒ &lt;strong&gt;â€œç½‘ç»œè¿æ¥ç›‘æ§å™¨â€&lt;/strong&gt;ï¼Œé€šè¿‡æ˜¾ç¤ºè¿æ¥çŠ¶æ€å¸®åŠ©ä½ åˆ¤æ–­æŠ¥æ–‡åœ¨ä½•å¤„è¢«å¤„ç†æˆ–ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;h3 id=&#34;-conntrack-æ ¸å¿ƒä»·å€¼è¿æ¥çŠ¶æ€è§†è§’&#34;&gt;ğŸ“Š Conntrack æ ¸å¿ƒä»·å€¼ï¼šè¿æ¥çŠ¶æ€è§†è§’
&lt;/h3&gt;&lt;p&gt;ä¼ ç»Ÿå·¥å…·ï¼ˆå¦‚ &lt;code&gt;ping&lt;/code&gt;, &lt;code&gt;tcpdump&lt;/code&gt;ï¼‰å‘Šè¯‰ä½ &lt;strong&gt;æŠ¥æ–‡â€œåˆ°å“ªé‡Œâ€&lt;/strong&gt;ï¼Œè€Œ &lt;code&gt;conntrack&lt;/code&gt; å‘Šè¯‰ä½ å†…æ ¸&lt;strong&gt;è®¤ä¸ºæŸä¸ªè¿æ¥â€œå¤„äºä»€ä¹ˆçŠ¶æ€â€&lt;/strong&gt;ã€‚è¿™å¯¹äºè¯Šæ–­é˜²ç«å¢™ã€NATå’ŒçŠ¶æ€åŒ–è¿‡æ»¤å¼•èµ·çš„é—®é¢˜è‡³å…³é‡è¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;-å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜è§£è¯»&#34;&gt;ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜è§£è¯»
&lt;/h3&gt;&lt;p&gt;ä»¥ä¸‹å‘½ä»¤éœ€ &lt;code&gt;root&lt;/code&gt; æƒé™ï¼ˆ&lt;code&gt;sudo&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;å‘½ä»¤&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;ç”¨é€”&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;å…³é”®è¾“å‡ºè§£è¯»ä¸ç¤ºä¾‹&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -L&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;åˆ—å‡ºå½“å‰æ‰€æœ‰è¿æ¥è·Ÿè¸ªæ¡ç›®ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æŸ¥çœ‹æ‰€æœ‰è¢«è·Ÿè¸ªçš„è¿æ¥ï¼ˆTCP/UDP/ICMPï¼‰ã€‚   &lt;code&gt;conntrack -L -o extended&lt;/code&gt; ï¼ˆæ˜¾ç¤ºæ›´è¯¦ç»†å­—æ®µï¼‰&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -E&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;å®æ—¶ç›‘æ§&lt;/strong&gt;æ–°è¿æ¥äº‹ä»¶ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;æ•…éšœæ’æŸ¥é¦–é€‰&lt;/strong&gt;ã€‚å®æ—¶è§‚å¯Ÿæ–°è¿æ¥æ˜¯å¦è¢«åˆ›å»ºã€‚   &lt;code&gt;conntrack -E -p tcp --dport 80&lt;/code&gt; ï¼ˆç›‘æ§ç‰¹å®šæµé‡ï¼‰&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -L -p icmp&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æŸ¥çœ‹ç‰¹å®šåè®®ï¼ˆå¦‚ICMPï¼‰çš„è¿æ¥ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æ£€æŸ¥ &lt;code&gt;ping&lt;/code&gt; äº§ç”Ÿçš„è·Ÿè¸ªæ¡ç›®ã€‚**çŠ¶æ€åº”ä¸º **&lt;code&gt;ESTABLISHED&lt;/code&gt;ã€‚&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -L -p udp&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æŸ¥çœ‹UDPâ€œè¿æ¥â€ï¼ˆå¦‚DNSï¼‰ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;UDPè™½æ— çŠ¶æ€ï¼Œä½†å†…æ ¸ä»ä¼šè·Ÿè¸ªä¼šè¯ã€‚ç”¨äºæ£€æŸ¥DNSæŸ¥è¯¢ã€‚&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -L -s &amp;lt;IP&amp;gt;&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;è¿‡æ»¤æŸ¥çœ‹æŒ‡å®šæºIPçš„è¿æ¥ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;å®šä½æ¥è‡ªç‰¹å®šä¸»æœºçš„æ‰€æœ‰è¿æ¥çŠ¶æ€ã€‚&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -D&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æ‰‹åŠ¨åˆ é™¤è¿æ¥è·Ÿè¸ªæ¡ç›®ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;å¼ºåˆ¶æ¸…é™¤æŸæ¡è¿‡æœŸæˆ–åƒµæ­»çš„è¿æ¥ï¼Œå¸¸ç”¨äºæµ‹è¯•ã€‚   &lt;code&gt;conntrack -D -p tcp --orig-port-dst 80&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;-ç»å…¸æ•…éšœæ’æŸ¥åœºæ™¯ä¸å‘½ä»¤æµ&#34;&gt;ğŸ” ç»å…¸æ•…éšœæ’æŸ¥åœºæ™¯ä¸å‘½ä»¤æµ
&lt;/h3&gt;&lt;p&gt;å½“ç½‘ç»œä¸é€šæ—¶ï¼Œå¯æŒ‰æ­¤æµç¨‹ä½¿ç”¨ &lt;code&gt;conntrack&lt;/code&gt; è¿›è¡ŒçŠ¶æ€åˆ†æï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/p/%E7%BD%91%E7%BB%9C%E6%8E%92%E9%9A%9C%E5%B7%A5%E5%85%B7conntrack/liucheng.svg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;åœºæ™¯ä¸€æ’æŸ¥-ping-icmp-ä¸é€š&#34;&gt;åœºæ™¯ä¸€ï¼šæ’æŸ¥ &lt;code&gt;ping&lt;/code&gt; (ICMP) ä¸é€š
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;åœ¨ä¸€ä¸ªç»ˆç«¯å¯åŠ¨ç›‘æ§ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conntrack -E -p icmp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åœ¨å¦ä¸€ä¸ªç»ˆç«¯æ‰§è¡Œ &lt;code&gt;ping &amp;lt;ç›®æ ‡IP&amp;gt;&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è§‚å¯Ÿç›‘æ§ç»ˆç«¯ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ— ä»»ä½•è¾“å‡º&lt;/strong&gt;ï¼šæŠ¥æ–‡æœªåˆ°è¾¾ &lt;code&gt;conntrack&lt;/code&gt; æ¨¡å—ï¼Œé—®é¢˜å¯èƒ½åœ¨&lt;strong&gt;è·¯ç”±&lt;/strong&gt;æˆ–&lt;strong&gt;å‡ºç«™é˜²ç«å¢™&lt;/strong&gt;ä¹‹å‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‡ºç° &lt;strong&gt;&lt;code&gt;[NEW]&lt;/code&gt;&lt;/strong&gt; äº‹ä»¶&lt;/strong&gt;ï¼šè¯·æ±‚å·²å‘å‡ºï¼Œè¢«å†…æ ¸è·Ÿè¸ªã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éšåå‡ºç° &lt;strong&gt;&lt;code&gt;[UPDATE]&lt;/code&gt;&lt;/strong&gt; äº‹ä»¶&lt;/strong&gt;ï¼šæ”¶åˆ°å›å¤ï¼Œè¿æ¥å»ºç«‹æˆåŠŸã€‚è‹¥åªæœ‰ &lt;code&gt;[NEW]&lt;/code&gt; æ—  &lt;code&gt;[UPDATE]&lt;/code&gt;ï¼Œåˆ™&lt;strong&gt;å›å¤æœªè¢«æ”¶åˆ°&lt;/strong&gt;ï¼Œé—®é¢˜å¯èƒ½åœ¨å¯¹æ–¹ä¸»æœºã€ä¸­é—´ç½‘ç»œæˆ–æœ¬æœºå…¥ç«™è§„åˆ™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;åœºæ™¯äºŒæ’æŸ¥-tcpudp-æœåŠ¡ä¸é€šå¦‚sshweb&#34;&gt;åœºæ™¯äºŒï¼šæ’æŸ¥ TCP/UDP æœåŠ¡ä¸é€šï¼ˆå¦‚SSHã€Webï¼‰
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;ç›‘æ§ç›¸å…³è¿æ¥ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conntrack -E -p tcp --dport &lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# ç›‘æ§SSH&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å°è¯•å»ºç«‹è¿æ¥ï¼ˆå¦‚ &lt;code&gt;ssh&lt;/code&gt; å‘½ä»¤ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è§‚å¯ŸçŠ¶æ€ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç†æƒ³æƒ…å†µ&lt;/strong&gt;ï¼šçœ‹åˆ° &lt;code&gt;[NEW]&lt;/code&gt; -&amp;gt; &lt;code&gt;[UPDATE]&lt;/code&gt;ï¼ˆçŠ¶æ€å˜ä¸º &lt;code&gt;ESTABLISHED&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åªæœ‰ &lt;strong&gt;&lt;code&gt;[NEW]&lt;/code&gt;ï¼šä½ çš„è¯·æ±‚å‡ºå»äº†ï¼Œä½†å¯¹æ–¹å›å¤æ²¡å›æ¥ã€‚æ£€æŸ¥å¯¹æ–¹æœåŠ¡ã€ä¸­é—´ç½‘ç»œåŠæœ¬æœº &lt;code&gt;INPUT&lt;/code&gt;&lt;/strong&gt; é“¾/å®‰å…¨ç»„å…¥æ–¹å‘&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— äº‹ä»¶&lt;/strong&gt;ï¼šæŠ¥æ–‡åœ¨åˆ°è¾¾ &lt;code&gt;conntrack&lt;/code&gt; å‰è¢«ä¸¢å¼ƒã€‚æ£€æŸ¥æœ¬æœº &lt;code&gt;OUTPUT&lt;/code&gt;** é“¾/å®‰å…¨ç»„å‡ºæ–¹å‘**ã€è·¯ç”±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;åœºæ™¯ä¸‰è¯Šæ–­-conntrack-è¡¨æ»¡å¯¼è‡´çš„ä¸¢åŒ…&#34;&gt;åœºæ™¯ä¸‰ï¼šè¯Šæ–­ &lt;code&gt;conntrack&lt;/code&gt; è¡¨æ»¡å¯¼è‡´çš„ä¸¢åŒ…
&lt;/h4&gt;&lt;p&gt;è¿™æ˜¯ç»å…¸æ•…éšœï¼Œç—‡çŠ¶ä¸º&lt;strong&gt;è¿æ¥éšæœºè¶…æ—¶æˆ–ä¸­æ–­&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ£€æŸ¥æ—¥å¿—&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dmesg &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;s2&#34;&gt;&amp;#34;conntrack&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å…³é”®ä¿¡æ¯ï¼š`nf_conntrack: table full, dropping packet`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;æŸ¥çœ‹å½“å‰è®¡æ•°ä¸ä¸Šé™&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.netfilter.nf_conntrack_count
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.netfilter.nf_conntrack_max
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¦‚æœ count æ¥è¿‘ maxï¼Œåˆ™è¡¨å°†æ»¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;ä¸´æ—¶è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¢å¤§è¡¨ä¸Šé™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl -w net.netfilter.nf_conntrack_max&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;524288&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¼©çŸ­æŸäº›è¶…æ—¶æ—¶é—´ï¼ŒåŠ é€Ÿæ¡ç›®å›æ”¶ï¼ˆè°¨æ…è°ƒæ•´ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl -w net.netfilter.nf_conntrack_tcp_timeout_established&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1200&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;-æ ¸å¿ƒè¦ç‚¹æ€»ç»“&#34;&gt;ğŸ’ æ ¸å¿ƒè¦ç‚¹æ€»ç»“
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;conntrack -E&lt;/code&gt;** æ˜¯ä½ çš„â€œç¬¬ä¸€åŒçœ¼ç›â€**ï¼šåœ¨æµ‹è¯•å‰æ‰“å¼€ï¼Œç›´æ¥è§‚å¯Ÿè¿æ¥æ˜¯å¦è¢«å†…æ ¸æˆåŠŸè·Ÿè¸ªã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çŠ¶æ€æ˜¯å…³é”®&lt;/strong&gt;ï¼š&lt;code&gt;NEW&lt;/code&gt; è¡¨ç¤ºè¯·æ±‚å·²å‘å‡ºï¼›&lt;code&gt;ESTABLISHED&lt;/code&gt; è¡¨ç¤ºåŒå‘é€šä¿¡å·²å¾—åˆ°å†…æ ¸æ”¾è¡Œï¼›&lt;code&gt;UNREPLIED&lt;/code&gt; é€šå¸¸æ„å‘³ç€åªæœ‰å•è¾¹æµé‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;conntrack&lt;/code&gt;** ä¸ &lt;strong&gt;&lt;code&gt;tcpdump&lt;/code&gt;&lt;/strong&gt; æ˜¯é»„é‡‘ç»„åˆ**ï¼š&lt;code&gt;conntrack&lt;/code&gt; çœ‹&lt;strong&gt;çŠ¶æ€&lt;/strong&gt;ï¼Œ&lt;code&gt;tcpdump&lt;/code&gt; æŠ“&lt;strong&gt;æŠ¥æ–‡&lt;/strong&gt;ï¼Œä¸¤è€…ç»“åˆå¯ä»¥ç²¾ç¡®å®šä½æŠ¥æ–‡æ˜¯åœ¨å“ªä¸€å±‚è¢«ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¡¨æ»¡æ˜¯å¸¸è§ç—…&lt;/strong&gt;ï¼šåœ¨ç½‘å…³ã€é«˜è¿æ¥æ•°æœåŠ¡å™¨ä¸Šï¼ŒåŠ¡å¿…ç›‘æ§ &lt;code&gt;nf_conntrack_count&lt;/code&gt;ï¼Œå¹¶é€‚å½“è°ƒæ•´ &lt;code&gt;max&lt;/code&gt; å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹æ¬¡é‡åˆ°â€œæ—¶é€šæ—¶ä¸é€šâ€æˆ–â€œç‰¹å®šåè®®ä¸é€šâ€çš„è¯¡å¼‚é—®é¢˜æ—¶ï¼Œé¦–å…ˆè¿è¡Œ &lt;code&gt;conntrack -E&lt;/code&gt; è¿›è¡Œå®æ—¶ç›‘æ§ï¼Œå®ƒèƒ½ä¸ºä½ æä¾›æœ€ç›´æ¥çš„çº¿ç´¢ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>dpdkæŠ€æœ¯åŸç†ä¸æ¶æ„</title>
        <link>https://example.com/p/dpdk%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9E%B6%E6%9E%84/</link>
        <pubDate>Thu, 18 Sep 2025 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/dpdk%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9E%B6%E6%9E%84/</guid>
        <description>&lt;h1 id=&#34;dpdkæŠ€æœ¯åŸç†ä¸æ¶æ„&#34;&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;DPDKæŠ€æœ¯åŸç†ä¸æ¶æ„&lt;/font&gt;
&lt;/h1&gt;&lt;h2 id=&#34;&#34;&gt;&lt;strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;æŠ€æœ¯åŸç†ä¸æ¶æ„&lt;/font&gt;&lt;/strong&gt;
&lt;/h2&gt;&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;ç”±äºé‡‡ç”¨è½¯ä»¶è½¬å‘å’Œè½¯ä»¶äº¤æ¢æŠ€æœ¯ï¼Œå•æœåŠ¡å™¨å†…éƒ¨çš„è½¬å‘èƒ½åŠ›æ˜¯ NFV ç³»ç»Ÿçš„ä¸»è¦æ€§èƒ½ç“¶é¢ˆã€‚åœ¨å„ç±»é«˜é€Ÿè½¬å‘çš„ NFV åº”ç”¨ä¸­ï¼Œæ•°æ®æŠ¥æ–‡ä»ç½‘å¡ä¸­æ¥æ”¶ï¼Œå†ä¼ é€åˆ°è™šæ‹ŸåŒ–çš„ç”¨æˆ·æ€åº”ç”¨ç¨‹åºï¼ˆVNFï¼‰å¤„ç†ï¼Œæ•´ä¸ªè¿‡ç¨‹è¦ç»å† CPU ä¸­æ–­å¤„ç†ã€è™šæ‹ŸåŒ– I/O ä¸åœ°å€æ˜ å°„è½¬æ¢ã€è™šæ‹Ÿäº¤æ¢å±‚ã€ç½‘ç»œåè®®æ ˆã€å†…æ ¸ä¸Šä¸‹æ–‡åˆ‡æ¢ã€å†…å­˜æ‹·è´ç­‰å¤šä¸ªè´¹æ—¶çš„ CPU æ“ä½œå’Œ I/O å¤„ç†ç¯èŠ‚ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;ä¸šå†…é€šå¸¸é‡‡ç”¨æ¶ˆé™¤æµ·é‡ä¸­æ–­ã€æ—è·¯å†…æ ¸åè®®æ ˆã€å‡å°‘å†…å­˜æ‹·è´ã€CPU å¤šæ ¸ä»»åŠ¡åˆ†æ‹…ã€Intel VT ç­‰æŠ€æœ¯æ¥ç»¼åˆæå‡æœåŠ¡å™¨æ•°æ®å¹³é¢çš„æŠ¥æ–‡å¤„ç†æ€§èƒ½ï¼Œæ™®é€šç”¨æˆ·è¾ƒéš¾æŒæ¡ã€‚ä¸šç•Œè¿«åˆ‡éœ€è¦ä¸€ç§ç»¼åˆçš„æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼ŒåŒæ—¶æä¾›è‰¯å¥½çš„ç”¨æˆ·å¼€å‘å’Œå•†ä¸šé›†æˆç¯å¢ƒï¼ŒDPDK åŠ é€ŸæŠ€æœ¯æ–¹æ¡ˆæˆä¸ºå…¶ä¸­çš„å…¸å‹ä»£è¡¨ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;DPDK æ˜¯ä¸€ä¸ªå¼€æºçš„æ•°æ®å¹³é¢å¼€å‘å·¥å…·é›†ï¼Œæä¾›äº†ä¸€ä¸ªç”¨æˆ·ç©ºé—´ä¸‹çš„é«˜æ•ˆæ•°æ®åŒ…å¤„ç†åº“&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;å‡½æ•°ï¼Œå®ƒé€šè¿‡ç¯å¢ƒæŠ½è±¡å±‚æ—è·¯å†…æ ¸åè®®æ ˆã€è½®è¯¢æ¨¡å¼çš„æŠ¥æ–‡æ— ä¸­æ–­æ”¶å‘ã€ä¼˜åŒ–å†…å­˜/ç¼“å†²åŒº/é˜Ÿåˆ—ç®¡ç†ã€åŸºäºç½‘å¡å¤šé˜Ÿåˆ—å’Œæµè¯†åˆ«çš„è´Ÿè½½å‡è¡¡ç­‰å¤šé¡¹æŠ€æœ¯ï¼Œå®ç°äº†åœ¨ x86 å¤„ç†å™¨æ¶æ„ä¸‹çš„é«˜æ€§èƒ½æŠ¥æ–‡è½¬å‘èƒ½åŠ›ï¼Œç”¨æˆ·å¯ä»¥åœ¨ Linux ç”¨æˆ·æ€ç©ºé—´å¼€å‘å„ç±»é«˜é€Ÿè½¬å‘åº”ç”¨ï¼Œä¹Ÿé€‚åˆä¸å„ç±»å•†ä¸šåŒ–çš„æ•°æ®å¹³é¢åŠ é€Ÿè§£å†³æ–¹æ¡ˆè¿›è¡Œé›†æˆã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;è‹±ç‰¹å°”åœ¨ 2010 å¹´å¯åŠ¨äº†å¯¹ DPDK æŠ€æœ¯çš„å¼€æºåŒ–è¿›ç¨‹ï¼Œäºå½“å¹´ 9 æœˆé€šè¿‡ BSD å¼€æºè®¸å¯åè®®æ­£å¼å‘å¸ƒæºä»£ç è½¯ä»¶åŒ…ï¼Œå¹¶äº 2014 å¹´ 4 æœˆåœ¨&lt;/font&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt; &lt;/font&gt;&lt;a class=&#34;link&#34; href=&#34;http://www.dpdk.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;font style=&#34;color:rgb(32, 109, 72);&#34;&gt;www.dpdk.org&lt;/font&gt;&lt;/a&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt; &lt;/font&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;ä¸Šæ­£å¼æˆç«‹äº†ç‹¬ç«‹çš„å¼€æºç¤¾åŒºå¹³å°ï¼Œä¸ºå¼€å‘è€…æä¾›æ”¯æŒã€‚å¼€æºç¤¾åŒºçš„å‚ä¸è€…ä»¬å¤§å¹…æ¨è¿›äº† DPDK çš„æŠ€æœ¯åˆ›æ–°å’Œå¿«é€Ÿæ¼”è¿›ï¼Œè€Œä»Šå®ƒå·²å‘å±•æˆä¸º SDN å’Œ NFV çš„ä¸€é¡¹å…³é”®æŠ€æœ¯ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;h2 id=&#34;&#34;&gt;&lt;strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;è½¯ä»¶æ¶æ„&lt;/font&gt;&lt;/strong&gt;
&lt;/h2&gt;&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;DPDK çš„ç»„æˆæ¶æ„å¦‚å›¾æ‰€ç¤ºï¼Œç›¸å…³æŠ€æœ¯åŸç†æ¦‚è¿°å¦‚ä¸‹ï¼š&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/img/dpdk.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;åœ¨æœ€åº•éƒ¨çš„å†…æ ¸æ€ï¼ˆLinux Kernelï¼‰DPDK æœ‰ä¸¤ä¸ªæ¨¡å—ï¼šKNI ä¸ IGB_UIOã€‚å…¶ä¸­ï¼ŒKNI æä¾›ç»™ç”¨æˆ·ä¸€ä¸ªä½¿ç”¨ Linux å†…æ ¸æ€çš„åè®®æ ˆï¼Œä»¥åŠä¼ ç»Ÿçš„ Linux ç½‘ç»œå·¥å…·ï¼ˆå¦‚ethtool, ifconfigï¼‰ã€‚IGB_UIOï¼ˆigb_uio.ko å’Œ kni.ko. IGB_UIOï¼‰åˆ™å€ŸåŠ©äº† UIO æŠ€æœ¯ï¼Œåœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­å°†ç½‘å¡ç¡¬ä»¶å¯„å­˜å™¨æ˜ å°„åˆ°ç”¨æˆ·æ€ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;å¦‚å›¾ï¼ŒDPDK çš„ä¸Šå±‚ç”¨æˆ·æ€ç”±å¾ˆå¤šåº“ç»„æˆï¼Œä¸»è¦åŒ…æ‹¬æ ¸å¿ƒéƒ¨ä»¶åº“ï¼ˆCore Librariesï¼‰ã€å¹³å°ç›¸å…³æ¨¡å—(Platform)ã€ç½‘å¡è½®è¯¢æ¨¡å¼é©±åŠ¨æ¨¡å—ï¼ˆPMD-Natives&amp;amp;Virtualï¼‰ã€QoS åº“ã€æŠ¥æ–‡è½¬å‘åˆ†ç±»ç®—æ³•ï¼ˆClassifyï¼‰ç­‰å‡ å¤§ç±»ï¼Œç”¨æˆ·åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨è¿™äº›åº“è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œä¸‹é¢åˆ†åˆ«ç®€è¦ä»‹ç»ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;æ ¸å¿ƒéƒ¨ä»¶åº“&lt;/font&gt;&lt;/strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;ï¼šè¯¥æ¨¡å—æ„æˆçš„è¿è¡Œç¯å¢ƒæ˜¯å»ºç«‹åœ¨ Linux ä¸Šï¼Œé€šè¿‡ç¯å¢ƒæŠ½è±¡å±‚(EAL)çš„è¿è¡Œç¯å¢ƒè¿›è¡Œåˆå§‹åŒ–ï¼ŒåŒ…æ‹¬ï¼šHugePage å†…å­˜åˆ†é…ã€å†…å­˜/ç¼“å†²åŒº/é˜Ÿåˆ—åˆ†é…ä¸æ— é”æ“ä½œã€CPU äº²å’Œæ€§ç»‘å®šç­‰ï¼›å…¶æ¬¡ï¼ŒEAL å®ç°äº†å¯¹æ“ä½œç³»ç»Ÿå†…æ ¸ä¸åº•å±‚ç½‘å¡ I/O æ“ä½œçš„å±è”½ï¼ˆI/O æ—è·¯äº†å†…æ ¸åŠå…¶åè®®æ ˆï¼‰ï¼Œä¸º DPDK åº”ç”¨ç¨‹åºæä¾›äº†ä¸€ç»„è°ƒç”¨æ¥å£ï¼Œé€šè¿‡ UIO æˆ– VFIO æŠ€æœ¯å°† PCI è®¾å¤‡åœ°å€æ˜ å°„åˆ°ç”¨æˆ·ç©ºé—´ï¼Œæ–¹ä¾¿äº†åº”ç”¨ç¨‹åºè°ƒç”¨ï¼Œé¿å…äº†ç½‘ç»œåè®®æ ˆå’Œå†…æ ¸åˆ‡æ¢é€ æˆçš„å¤„ç†å»¶è¿Ÿã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;å¦å¤–ï¼Œæ ¸å¿ƒéƒ¨ä»¶è¿˜åŒ…æ‹¬åˆ›å»ºé€‚åˆæŠ¥æ–‡å¤„ç†çš„å†…å­˜æ± ã€ç¼“å†²åŒºåˆ†é…ç®¡ç†ã€å†…å­˜æ‹·è´ã€ä»¥åŠå®šæ—¶å™¨ã€ç¯å½¢ç¼“å†²åŒºç®¡ç†ç­‰ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;å¹³å°ç›¸å…³æ¨¡å—&lt;/font&gt;&lt;/strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;ï¼šå…¶å†…éƒ¨æ¨¡å—ä¸»è¦åŒ…æ‹¬ KNIã€èƒ½è€—ç®¡ç†ä»¥åŠ IVSHMEM æ¥å£ã€‚å…¶ä¸­ï¼ŒKNI æ¨¡å—ä¸»è¦é€šè¿‡ kni.ko æ¨¡å—å°†æ•°æ®æŠ¥æ–‡ä»ç”¨æˆ·æ€ä¼ é€’ç»™å†…æ ¸æ€åè®®æ ˆå¤„ç†ï¼Œä»¥ä¾¿ç”¨æˆ·è¿›ç¨‹ä½¿ç”¨ä¼ ç»Ÿçš„ socket æ¥å£å¯¹ç›¸å…³æŠ¥æ–‡è¿›è¡Œå¤„ç†ï¼›èƒ½è€—ç®¡ç†åˆ™æä¾›äº†ä¸€äº› APIï¼Œåº”ç”¨ç¨‹åºå¯ä»¥æ ¹æ®æ”¶åŒ…é€Ÿç‡åŠ¨æ€è°ƒæ•´å¤„ç†å™¨é¢‘ç‡æˆ–è¿›å…¥å¤„ç†å™¨çš„ä¸åŒä¼‘çœ çŠ¶æ€ï¼›å¦å¤–ï¼ŒIVSHMEM æ¨¡å—æä¾›äº†è™šæ‹Ÿæœºä¸è™šæ‹Ÿæœºä¹‹é—´ï¼Œæˆ–è€…è™šæ‹Ÿæœºä¸ä¸»æœºä¹‹é—´çš„é›¶æ‹·è´å…±äº«å†…å­˜æœºåˆ¶ï¼Œå½“ DPDK ç¨‹åºè¿è¡Œæ—¶ï¼ŒIVSHMEM æ¨¡å—ä¼šè°ƒç”¨æ ¸å¿ƒéƒ¨ä»¶åº“ APIï¼ŒæŠŠå‡ ä¸ª HugePage æ˜ å°„ä¸ºä¸€ä¸ª IVSHMEM è®¾å¤‡æ± ï¼Œå¹¶é€šè¿‡å‚æ•°ä¼ é€’ç»™ QEMUï¼Œè¿™æ ·ï¼Œå°±å®ç°äº†è™šæ‹Ÿæœºä¹‹é—´çš„é›¶æ‹·è´å†…å­˜å…±äº«ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;è½®è¯¢æ¨¡å¼é©±åŠ¨æ¨¡å—&lt;/font&gt;&lt;/strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;ï¼šPMD ç›¸å…³ API å®ç°äº†åœ¨è½®è¯¢æ–¹å¼ä¸‹è¿›è¡Œç½‘å¡æŠ¥æ–‡æ”¶å‘ï¼Œé¿å…äº†å¸¸è§„æŠ¥æ–‡å¤„ç†æ–¹æ³•ä¸­å› é‡‡ç”¨ä¸­æ–­æ–¹å¼é€ æˆçš„å“åº”å»¶è¿Ÿï¼Œæå¤§æå‡äº†ç½‘å¡æ”¶å‘æ€§èƒ½ã€‚æ­¤å¤–ï¼Œè¯¥æ¨¡å—è¿˜åŒæ—¶æ”¯æŒç‰©ç†å’Œè™šæ‹ŸåŒ–ä¸¤ç§ç½‘ç»œæ¥å£ï¼Œä»ä»…ä»…æ”¯æŒ Intel ç½‘å¡ï¼Œå‘å±•åˆ°æ”¯æŒ Ciscoã€Broadcomã€Mellanoxã€Chelsio ç­‰æ•´ä¸ªè¡Œä¸šç”Ÿæ€ç³»ç»Ÿ,ä»¥åŠåŸºäº KVMã€VMWAREã€ XEN ç­‰è™šæ‹ŸåŒ–ç½‘ç»œæ¥å£çš„æ”¯æŒã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;DPDK è¿˜å®šä¹‰äº†å¤§é‡ API æ¥æŠ½è±¡æ•°æ®å¹³é¢çš„è½¬å‘åº”ç”¨ï¼Œå¦‚ ACLã€QoSã€æµåˆ†ç±»å’Œè´Ÿè½½å‡è¡¡ç­‰ã€‚å¹¶ä¸”ï¼Œé™¤ä»¥å¤ªç½‘æ¥å£å¤–ï¼ŒDPDK è¿˜åœ¨å®šä¹‰ç”¨äºåŠ è§£å¯†çš„è½¯ç¡¬ä»¶åŠ é€Ÿæ¥å£ï¼ˆExtensionsï¼‰ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;h2 id=&#34;&#34;&gt;&lt;strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;å¤§é¡µæŠ€æœ¯&lt;/font&gt;&lt;/strong&gt;
&lt;/h2&gt;&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;å¤„ç†å™¨çš„å†…å­˜ç®¡ç†åŒ…å«ä¸¤ä¸ªæ¦‚å¿µï¼šç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ã€‚Linux æ“ä½œç³»ç»Ÿé‡Œé¢æ•´ä¸ªç‰©ç†&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;å†…å­˜æŒ‰å¸§ï¼ˆframesï¼‰æ¥è¿›è¡Œç®¡ç†ï¼Œè™šæ‹Ÿå†…å­˜æŒ‰ç…§é¡µï¼ˆpageï¼‰æ¥è¿›è¡Œç®¡ç†ã€‚å†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰å®Œæˆä»è™šæ‹Ÿå†…å­˜åœ°å€åˆ°ç‰©ç†å†…å­˜åœ°å€çš„è½¬æ¢ã€‚å†…å­˜ç®¡ç†å•å…ƒè¿›è¡Œåœ°å€è½¬æ¢éœ€è¦çš„ä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªå«é¡µè¡¨ï¼ˆpage tableï¼‰çš„æ•°æ®ç»“æ„é‡Œé¢ï¼Œé¡µè¡¨æŸ¥æ‰¾æ˜¯ä¸€ç§æå…¶è€—æ—¶çš„æ“ä½œã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;x86 å¤„ç†å™¨ç¡¬ä»¶åœ¨ç¼ºçœé…ç½®ä¸‹ï¼Œé¡µçš„å¤§å°æ˜¯ 4Kï¼Œä½†ä¹Ÿå¯ä»¥æ”¯æŒæ›´å¤§çš„é¡µè¡¨å°ºå¯¸ï¼Œä¾‹å¦‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;2M æˆ– 1G çš„é¡µè¡¨ã€‚ä½¿ç”¨äº†å¤§é¡µè¡¨åŠŸèƒ½åï¼Œä¸€ä¸ª TLB è¡¨é¡¹å¯ä»¥æŒ‡å‘æ›´å¤§çš„å†…å­˜åŒºåŸŸï¼Œè¿™æ ·å¯ä»¥å¤§å¹…å‡å°‘ TLB miss çš„å‘ç”Ÿã€‚æ—©æœŸçš„ Linux å¹¶æ²¡æœ‰åˆ©ç”¨ x86 ç¡¬ä»¶æä¾›çš„å¤§é¡µè¡¨åŠŸèƒ½ï¼Œä»…åœ¨ Linuxå†…æ ¸ 2.6.33 ä»¥åçš„ç‰ˆæœ¬ï¼Œåº”ç”¨è½¯ä»¶æ‰å¯ä»¥ä½¿ç”¨å¤§é¡µè¡¨åŠŸèƒ½ï¼Œå…·ä½“çš„ä»‹ç»å¯ä»¥å‚è§ Linux çš„å¤§é¡µè¡¨æ–‡ä»¶ç³»ç»Ÿï¼ˆhugetlbfsï¼‰ç‰¹æ€§ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;DPDK åˆ™åˆ©ç”¨å¤§é¡µæŠ€æœ¯ï¼Œæ‰€æœ‰çš„å†…å­˜éƒ½æ˜¯ä» HugePage é‡Œåˆ†é…ï¼Œå®ç°å¯¹å†…å­˜æ± (mempool)çš„ç®¡ç†ï¼Œå¹¶é¢„å…ˆåˆ†é…å¥½åŒæ ·å¤§å°çš„ mbufï¼Œä¾›æ¯ä¸€ä¸ªæ•°æ®åŒ…ä½¿ç”¨ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;h2 id=&#34;&#34;&gt;&lt;strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;è½®è¯¢æŠ€æœ¯&lt;/font&gt;&lt;/strong&gt;
&lt;/h2&gt;&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;ä¸ºäº†å‡å°‘ä¸­æ–­å¤„ç†å¼€é”€ï¼ŒDPDK ä½¿ç”¨äº†è½®è¯¢æŠ€æœ¯æ¥å¤„ç†ç½‘ç»œæŠ¥æ–‡ã€‚ç½‘å¡æ”¶åˆ°æŠ¥æ–‡åï¼Œç›´&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;æ¥å°†æŠ¥æ–‡ä¿å­˜åˆ°å¤„ç†å™¨ cache ä¸­ï¼ˆæœ‰ DDIOï¼ˆDirect Data I/Oï¼‰æŠ€æœ¯çš„æƒ…å†µä¸‹ï¼‰ï¼Œæˆ–è€…ä¿å­˜åˆ°å†…å­˜ä¸­ï¼ˆæ²¡æœ‰ DDIO æŠ€æœ¯çš„æƒ…å†µä¸‹ï¼‰ï¼Œå¹¶è®¾ç½®æŠ¥æ–‡åˆ°è¾¾çš„æ ‡å¿—ä½ã€‚åº”ç”¨è½¯ä»¶åˆ™å‘¨æœŸæ€§åœ°è½®è¯¢æŠ¥æ–‡åˆ°è¾¾çš„æ ‡å¿—ä½ï¼Œæ£€æµ‹æ˜¯å¦æœ‰æ–°æŠ¥æ–‡éœ€è¦å¤„ç†ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­å®Œå…¨æ²¡æœ‰ä¸­æ–­å¤„ç†è¿‡ç¨‹ï¼Œå› æ­¤åº”ç”¨ç¨‹åºçš„ç½‘ç»œæŠ¥æ–‡å¤„ç†èƒ½åŠ›å¾—ä»¥æå¤§æå‡ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;h2 id=&#34;heading&#34;&gt;&lt;strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;CPU&lt;/font&gt;&lt;/strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt; &lt;/font&gt;&lt;strong&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;äº²å’ŒæŠ€æœ¯&lt;/font&gt;&lt;/strong&gt;
&lt;/h2&gt;&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;ç°ä»£æ“ä½œç³»ç»Ÿéƒ½æ˜¯åŸºäºåˆ†æ—¶è°ƒç”¨æ–¹å¼æ¥å®ç°ä»»åŠ¡è°ƒåº¦ï¼Œå¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹åœ¨å¤šæ ¸å¤„ç†å™¨çš„&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;æŸä¸€ä¸ªæ ¸ä¸Šä¸æ–­åœ°äº¤æ›¿æ‰§è¡Œã€‚æ¯æ¬¡åˆ‡æ¢è¿‡ç¨‹ï¼Œéƒ½éœ€è¦å°†å¤„ç†å™¨çš„çŠ¶æ€å¯„å­˜å™¨ä¿å­˜åœ¨å †æ ˆä¸­ï¼Œå¹¶æ¢å¤å½“å‰è¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ï¼Œè¿™å¯¹ç³»ç»Ÿå…¶å®æ˜¯ä¸€ç§å¤„ç†å¼€é”€ã€‚å°†ä¸€ä¸ªçº¿ç¨‹å›ºå®šä¸€ä¸ªæ ¸ä¸Šè¿è¡Œï¼Œå¯ä»¥æ¶ˆé™¤åˆ‡æ¢å¸¦æ¥çš„é¢å¤–å¼€é”€ã€‚å¦å¤–å°†è¿›ç¨‹æˆ–è€…çº¿ç¨‹è¿ç§»åˆ°å¤šæ ¸å¤„ç†å™¨çš„å…¶å®ƒæ ¸ä¸Šè¿›è¡Œè¿è¡Œæ—¶ï¼Œå¤„ç†å™¨ç¼“å­˜ä¸­çš„æ•°æ®ä¹Ÿéœ€è¦è¿›è¡Œæ¸…é™¤ï¼Œå¯¼è‡´å¤„ç†å™¨ç¼“å­˜çš„åˆ©ç”¨æ•ˆæœé™ä½ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;CPU äº²å’ŒæŠ€æœ¯ï¼Œå°±æ˜¯å°†æŸä¸ªè¿›ç¨‹æˆ–è€…çº¿ç¨‹ç»‘å®šåˆ°ç‰¹å®šçš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ ¸ä¸Šæ‰§è¡Œï¼Œè€Œä¸è¢«&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;è¿ç§»åˆ°å…¶å®ƒæ ¸ä¸Šè¿è¡Œï¼Œè¿™æ ·å°±ä¿è¯äº†ä¸“ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;DPDK ä½¿ç”¨äº† Linux pthread åº“ï¼Œåœ¨ç³»ç»Ÿä¸­æŠŠç›¸åº”çš„çº¿ç¨‹å’Œ CPU è¿›è¡Œäº²å’Œæ€§ç»‘å®š, ç„¶å&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgba(0, 0, 0, 0.86);&#34;&gt;ç›¸åº”çš„çº¿ç¨‹å°½å¯èƒ½ä½¿ç”¨ç‹¬ç«‹çš„èµ„æºè¿›è¡Œç›¸å…³çš„æ•°æ®å¤„ç†ã€‚&lt;/font&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
