<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>æ’éšœ on starâ€˜s Blog</title>
        <link>https://example.com/categories/%E6%8E%92%E9%9A%9C/</link>
        <description>Recent content in æ’éšœ on starâ€˜s Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>Example Person</copyright>
        <lastBuildDate>Tue, 30 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://example.com/categories/%E6%8E%92%E9%9A%9C/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>ç½‘ç»œæ’éšœå·¥å…·conntrack</title>
        <link>https://example.com/p/%E7%BD%91%E7%BB%9C%E6%8E%92%E9%9A%9C%E5%B7%A5%E5%85%B7conntrack/</link>
        <pubDate>Tue, 30 Dec 2025 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/%E7%BD%91%E7%BB%9C%E6%8E%92%E9%9A%9C%E5%B7%A5%E5%85%B7conntrack/</guid>
        <description>&lt;p&gt;åœ¨ç½‘ç»œæ•…éšœæ’æŸ¥ä¸­ï¼Œ&lt;code&gt;conntrack&lt;/code&gt; æ˜¯æ´å¯Ÿå†…æ ¸è¿æ¥è·Ÿè¸ªçŠ¶æ€çš„æ ¸å¿ƒå·¥å…·ã€‚å®ƒä¸ç›´æ¥é…ç½®ç½‘ç»œï¼Œè€Œæ˜¯åƒ &lt;strong&gt;â€œç½‘ç»œè¿æ¥ç›‘æ§å™¨â€&lt;/strong&gt;ï¼Œé€šè¿‡æ˜¾ç¤ºè¿æ¥çŠ¶æ€å¸®åŠ©ä½ åˆ¤æ–­æŠ¥æ–‡åœ¨ä½•å¤„è¢«å¤„ç†æˆ–ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;h3 id=&#34;-conntrack-æ ¸å¿ƒä»·å€¼è¿æ¥çŠ¶æ€è§†è§’&#34;&gt;ğŸ“Š Conntrack æ ¸å¿ƒä»·å€¼ï¼šè¿æ¥çŠ¶æ€è§†è§’
&lt;/h3&gt;&lt;p&gt;ä¼ ç»Ÿå·¥å…·ï¼ˆå¦‚ &lt;code&gt;ping&lt;/code&gt;, &lt;code&gt;tcpdump&lt;/code&gt;ï¼‰å‘Šè¯‰ä½ &lt;strong&gt;æŠ¥æ–‡â€œåˆ°å“ªé‡Œâ€&lt;/strong&gt;ï¼Œè€Œ &lt;code&gt;conntrack&lt;/code&gt; å‘Šè¯‰ä½ å†…æ ¸&lt;strong&gt;è®¤ä¸ºæŸä¸ªè¿æ¥â€œå¤„äºä»€ä¹ˆçŠ¶æ€â€&lt;/strong&gt;ã€‚è¿™å¯¹äºè¯Šæ–­é˜²ç«å¢™ã€NATå’ŒçŠ¶æ€åŒ–è¿‡æ»¤å¼•èµ·çš„é—®é¢˜è‡³å…³é‡è¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;-å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜è§£è¯»&#34;&gt;ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤ä¸å®æˆ˜è§£è¯»
&lt;/h3&gt;&lt;p&gt;ä»¥ä¸‹å‘½ä»¤éœ€ &lt;code&gt;root&lt;/code&gt; æƒé™ï¼ˆ&lt;code&gt;sudo&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;å‘½ä»¤&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;ç”¨é€”&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;å…³é”®è¾“å‡ºè§£è¯»ä¸ç¤ºä¾‹&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -L&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;åˆ—å‡ºå½“å‰æ‰€æœ‰è¿æ¥è·Ÿè¸ªæ¡ç›®ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æŸ¥çœ‹æ‰€æœ‰è¢«è·Ÿè¸ªçš„è¿æ¥ï¼ˆTCP/UDP/ICMPï¼‰ã€‚   &lt;code&gt;conntrack -L -o extended&lt;/code&gt; ï¼ˆæ˜¾ç¤ºæ›´è¯¦ç»†å­—æ®µï¼‰&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -E&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;å®æ—¶ç›‘æ§&lt;/strong&gt;æ–°è¿æ¥äº‹ä»¶ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;æ•…éšœæ’æŸ¥é¦–é€‰&lt;/strong&gt;ã€‚å®æ—¶è§‚å¯Ÿæ–°è¿æ¥æ˜¯å¦è¢«åˆ›å»ºã€‚   &lt;code&gt;conntrack -E -p tcp --dport 80&lt;/code&gt; ï¼ˆç›‘æ§ç‰¹å®šæµé‡ï¼‰&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -L -p icmp&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æŸ¥çœ‹ç‰¹å®šåè®®ï¼ˆå¦‚ICMPï¼‰çš„è¿æ¥ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æ£€æŸ¥ &lt;code&gt;ping&lt;/code&gt; äº§ç”Ÿçš„è·Ÿè¸ªæ¡ç›®ã€‚**çŠ¶æ€åº”ä¸º **&lt;code&gt;ESTABLISHED&lt;/code&gt;ã€‚&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -L -p udp&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æŸ¥çœ‹UDPâ€œè¿æ¥â€ï¼ˆå¦‚DNSï¼‰ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;UDPè™½æ— çŠ¶æ€ï¼Œä½†å†…æ ¸ä»ä¼šè·Ÿè¸ªä¼šè¯ã€‚ç”¨äºæ£€æŸ¥DNSæŸ¥è¯¢ã€‚&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -L -s &amp;lt;IP&amp;gt;&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;è¿‡æ»¤æŸ¥çœ‹æŒ‡å®šæºIPçš„è¿æ¥ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;å®šä½æ¥è‡ªç‰¹å®šä¸»æœºçš„æ‰€æœ‰è¿æ¥çŠ¶æ€ã€‚&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;code&gt;conntrack -D&lt;/code&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;æ‰‹åŠ¨åˆ é™¤è¿æ¥è·Ÿè¸ªæ¡ç›®ã€‚&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;å¼ºåˆ¶æ¸…é™¤æŸæ¡è¿‡æœŸæˆ–åƒµæ­»çš„è¿æ¥ï¼Œå¸¸ç”¨äºæµ‹è¯•ã€‚   &lt;code&gt;conntrack -D -p tcp --orig-port-dst 80&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;-ç»å…¸æ•…éšœæ’æŸ¥åœºæ™¯ä¸å‘½ä»¤æµ&#34;&gt;ğŸ” ç»å…¸æ•…éšœæ’æŸ¥åœºæ™¯ä¸å‘½ä»¤æµ
&lt;/h3&gt;&lt;p&gt;å½“ç½‘ç»œä¸é€šæ—¶ï¼Œå¯æŒ‰æ­¤æµç¨‹ä½¿ç”¨ &lt;code&gt;conntrack&lt;/code&gt; è¿›è¡ŒçŠ¶æ€åˆ†æï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/p/%E7%BD%91%E7%BB%9C%E6%8E%92%E9%9A%9C%E5%B7%A5%E5%85%B7conntrack/liucheng.svg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;åœºæ™¯ä¸€æ’æŸ¥-ping-icmp-ä¸é€š&#34;&gt;åœºæ™¯ä¸€ï¼šæ’æŸ¥ &lt;code&gt;ping&lt;/code&gt; (ICMP) ä¸é€š
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;åœ¨ä¸€ä¸ªç»ˆç«¯å¯åŠ¨ç›‘æ§ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conntrack -E -p icmp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åœ¨å¦ä¸€ä¸ªç»ˆç«¯æ‰§è¡Œ &lt;code&gt;ping &amp;lt;ç›®æ ‡IP&amp;gt;&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;è§‚å¯Ÿç›‘æ§ç»ˆç«¯ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ— ä»»ä½•è¾“å‡º&lt;/strong&gt;ï¼šæŠ¥æ–‡æœªåˆ°è¾¾ &lt;code&gt;conntrack&lt;/code&gt; æ¨¡å—ï¼Œé—®é¢˜å¯èƒ½åœ¨&lt;strong&gt;è·¯ç”±&lt;/strong&gt;æˆ–&lt;strong&gt;å‡ºç«™é˜²ç«å¢™&lt;/strong&gt;ä¹‹å‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‡ºç° &lt;strong&gt;&lt;code&gt;[NEW]&lt;/code&gt;&lt;/strong&gt; äº‹ä»¶&lt;/strong&gt;ï¼šè¯·æ±‚å·²å‘å‡ºï¼Œè¢«å†…æ ¸è·Ÿè¸ªã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éšåå‡ºç° &lt;strong&gt;&lt;code&gt;[UPDATE]&lt;/code&gt;&lt;/strong&gt; äº‹ä»¶&lt;/strong&gt;ï¼šæ”¶åˆ°å›å¤ï¼Œè¿æ¥å»ºç«‹æˆåŠŸã€‚è‹¥åªæœ‰ &lt;code&gt;[NEW]&lt;/code&gt; æ—  &lt;code&gt;[UPDATE]&lt;/code&gt;ï¼Œåˆ™&lt;strong&gt;å›å¤æœªè¢«æ”¶åˆ°&lt;/strong&gt;ï¼Œé—®é¢˜å¯èƒ½åœ¨å¯¹æ–¹ä¸»æœºã€ä¸­é—´ç½‘ç»œæˆ–æœ¬æœºå…¥ç«™è§„åˆ™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;åœºæ™¯äºŒæ’æŸ¥-tcpudp-æœåŠ¡ä¸é€šå¦‚sshweb&#34;&gt;åœºæ™¯äºŒï¼šæ’æŸ¥ TCP/UDP æœåŠ¡ä¸é€šï¼ˆå¦‚SSHã€Webï¼‰
&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;ç›‘æ§ç›¸å…³è¿æ¥ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conntrack -E -p tcp --dport &lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# ç›‘æ§SSH&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å°è¯•å»ºç«‹è¿æ¥ï¼ˆå¦‚ &lt;code&gt;ssh&lt;/code&gt; å‘½ä»¤ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;è§‚å¯ŸçŠ¶æ€ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç†æƒ³æƒ…å†µ&lt;/strong&gt;ï¼šçœ‹åˆ° &lt;code&gt;[NEW]&lt;/code&gt; -&amp;gt; &lt;code&gt;[UPDATE]&lt;/code&gt;ï¼ˆçŠ¶æ€å˜ä¸º &lt;code&gt;ESTABLISHED&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åªæœ‰ &lt;strong&gt;&lt;code&gt;[NEW]&lt;/code&gt;ï¼šä½ çš„è¯·æ±‚å‡ºå»äº†ï¼Œä½†å¯¹æ–¹å›å¤æ²¡å›æ¥ã€‚æ£€æŸ¥å¯¹æ–¹æœåŠ¡ã€ä¸­é—´ç½‘ç»œåŠæœ¬æœº &lt;code&gt;INPUT&lt;/code&gt;&lt;/strong&gt; é“¾/å®‰å…¨ç»„å…¥æ–¹å‘&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ— äº‹ä»¶&lt;/strong&gt;ï¼šæŠ¥æ–‡åœ¨åˆ°è¾¾ &lt;code&gt;conntrack&lt;/code&gt; å‰è¢«ä¸¢å¼ƒã€‚æ£€æŸ¥æœ¬æœº &lt;code&gt;OUTPUT&lt;/code&gt;** é“¾/å®‰å…¨ç»„å‡ºæ–¹å‘**ã€è·¯ç”±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;åœºæ™¯ä¸‰è¯Šæ–­-conntrack-è¡¨æ»¡å¯¼è‡´çš„ä¸¢åŒ…&#34;&gt;åœºæ™¯ä¸‰ï¼šè¯Šæ–­ &lt;code&gt;conntrack&lt;/code&gt; è¡¨æ»¡å¯¼è‡´çš„ä¸¢åŒ…
&lt;/h4&gt;&lt;p&gt;è¿™æ˜¯ç»å…¸æ•…éšœï¼Œç—‡çŠ¶ä¸º&lt;strong&gt;è¿æ¥éšæœºè¶…æ—¶æˆ–ä¸­æ–­&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ£€æŸ¥æ—¥å¿—&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dmesg &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;s2&#34;&gt;&amp;#34;conntrack&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å…³é”®ä¿¡æ¯ï¼š`nf_conntrack: table full, dropping packet`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;æŸ¥çœ‹å½“å‰è®¡æ•°ä¸ä¸Šé™&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.netfilter.nf_conntrack_count
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.netfilter.nf_conntrack_max
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¦‚æœ count æ¥è¿‘ maxï¼Œåˆ™è¡¨å°†æ»¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;ä¸´æ—¶è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¢å¤§è¡¨ä¸Šé™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl -w net.netfilter.nf_conntrack_max&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;524288&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¼©çŸ­æŸäº›è¶…æ—¶æ—¶é—´ï¼ŒåŠ é€Ÿæ¡ç›®å›æ”¶ï¼ˆè°¨æ…è°ƒæ•´ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl -w net.netfilter.nf_conntrack_tcp_timeout_established&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1200&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;-æ ¸å¿ƒè¦ç‚¹æ€»ç»“&#34;&gt;ğŸ’ æ ¸å¿ƒè¦ç‚¹æ€»ç»“
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;conntrack -E&lt;/code&gt;** æ˜¯ä½ çš„â€œç¬¬ä¸€åŒçœ¼ç›â€**ï¼šåœ¨æµ‹è¯•å‰æ‰“å¼€ï¼Œç›´æ¥è§‚å¯Ÿè¿æ¥æ˜¯å¦è¢«å†…æ ¸æˆåŠŸè·Ÿè¸ªã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çŠ¶æ€æ˜¯å…³é”®&lt;/strong&gt;ï¼š&lt;code&gt;NEW&lt;/code&gt; è¡¨ç¤ºè¯·æ±‚å·²å‘å‡ºï¼›&lt;code&gt;ESTABLISHED&lt;/code&gt; è¡¨ç¤ºåŒå‘é€šä¿¡å·²å¾—åˆ°å†…æ ¸æ”¾è¡Œï¼›&lt;code&gt;UNREPLIED&lt;/code&gt; é€šå¸¸æ„å‘³ç€åªæœ‰å•è¾¹æµé‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;conntrack&lt;/code&gt;** ä¸ &lt;strong&gt;&lt;code&gt;tcpdump&lt;/code&gt;&lt;/strong&gt; æ˜¯é»„é‡‘ç»„åˆ**ï¼š&lt;code&gt;conntrack&lt;/code&gt; çœ‹&lt;strong&gt;çŠ¶æ€&lt;/strong&gt;ï¼Œ&lt;code&gt;tcpdump&lt;/code&gt; æŠ“&lt;strong&gt;æŠ¥æ–‡&lt;/strong&gt;ï¼Œä¸¤è€…ç»“åˆå¯ä»¥ç²¾ç¡®å®šä½æŠ¥æ–‡æ˜¯åœ¨å“ªä¸€å±‚è¢«ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¡¨æ»¡æ˜¯å¸¸è§ç—…&lt;/strong&gt;ï¼šåœ¨ç½‘å…³ã€é«˜è¿æ¥æ•°æœåŠ¡å™¨ä¸Šï¼ŒåŠ¡å¿…ç›‘æ§ &lt;code&gt;nf_conntrack_count&lt;/code&gt;ï¼Œå¹¶é€‚å½“è°ƒæ•´ &lt;code&gt;max&lt;/code&gt; å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹æ¬¡é‡åˆ°â€œæ—¶é€šæ—¶ä¸é€šâ€æˆ–â€œç‰¹å®šåè®®ä¸é€šâ€çš„è¯¡å¼‚é—®é¢˜æ—¶ï¼Œé¦–å…ˆè¿è¡Œ &lt;code&gt;conntrack -E&lt;/code&gt; è¿›è¡Œå®æ—¶ç›‘æ§ï¼Œå®ƒèƒ½ä¸ºä½ æä¾›æœ€ç›´æ¥çš„çº¿ç´¢ã€‚&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
