<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Golang on star‘s Blog</title>
        <link>https://example.com/tags/golang/</link>
        <description>Recent content in Golang on star‘s Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>Example Person</copyright>
        <lastBuildDate>Sun, 24 Aug 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://example.com/tags/golang/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>frp socks5代理应用场景</title>
        <link>https://example.com/p/frp-socks5%E4%BB%A3%E7%90%86%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/</link>
        <pubDate>Sun, 24 Aug 2025 00:00:00 +0000</pubDate>
        
        <guid>https://example.com/p/frp-socks5%E4%BB%A3%E7%90%86%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF/</guid>
        <description>&lt;p&gt;最近工作中遇到一个问题，在一个vpc下面有两台虚拟机，其中一台机器绑定了eip可以访问互联网，另一台没有绑，没有公网的机器想通过绑定eip的机器来访问公网，我采用了frp中的sock5代理来实现这个需求，首先分别介绍一下frp和socks5代理协议。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/img/socks5-1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;1frp简介&#34;&gt;1、frp简介
&lt;/h3&gt;&lt;p&gt;&lt;font style=&#34;color:rgb(25, 27, 31);&#34;&gt;frp 是一个可用于内网穿透的高性能的反向代理应用，支持TCP、UDP协议，为HTTP和HTTPS应用协议提供了额外的能力，且尝试性支持了点对点穿透。frp 采用go语言开发。更多的人使用 frp 是为了进行反向代理，满足通过公网服务器访问处于内网的服务，如访问内网web服务，远程ssh内网服务器，远程控制内网NAS等，实现类似花生壳、ngrok等功能。而对于内网渗透来讲，这种功能恰好能够满足我们进行内网渗透的流量转发。FRP最大的一个特点是使用&lt;/font&gt;&lt;a class=&#34;link&#34; href=&#34;https://zhida.zhihu.com/search?content_id=177765655&amp;amp;content_type=Article&amp;amp;match_order=1&amp;amp;q=SOCKS%E4%BB%A3%E7%90%86&amp;amp;zhida_source=entity&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;font style=&#34;color:rgb(9, 64, 142);&#34;&gt;SOCKS代理&lt;/font&gt;&lt;/a&gt;&lt;font style=&#34;color:rgb(25, 27, 31);&#34;&gt;，而SOCKS是加密通信的，类似于做了一个加密的隧道，可以把外网的流量，通过加密隧道穿透到内网。效果有些类似于VPN。&lt;/font&gt;&lt;/p&gt;
&lt;h3 id=&#34;2socks介绍&#34;&gt;2、&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;SOCKS介绍&lt;/font&gt;
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;SOCKS&lt;/font&gt;&lt;/strong&gt;&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;全称是SOCKet Secure，是一种网络传输协议，主要用于客户端与外网服务器之间通讯的中间传递。在OSI模型中，SOCKS是会话层的协议，位于表示层与传输层之间，最新协议是&lt;/font&gt;&lt;strong&gt;&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;SOCKS5&lt;/font&gt;&lt;/strong&gt;&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;。&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;SOCKS5原理&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;①首先客户端向代理服务器发出请求信息，用以协商版本和认证方法。随后代理服务器应答，将选择的方法发送给客户端。&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;②客户端和代理服务器进入由选定认证方法所决定的子协商过程，子协商过程结束后，客户端发送请求信息，其中包含目标服务器的IP地址和端口。代理服务器验证客户端身份，通过后会与目标服务器连接，目标服务器经过代理服务器向客户端返回状态响应。&lt;/font&gt;&lt;/p&gt;
&lt;p&gt;&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;③连接完成后，代理服务器开始作为中转站中转数据。&lt;/font&gt;&lt;/p&gt;
&lt;h3 id=&#34;3操作步骤&#34;&gt;&lt;font style=&#34;color:rgb(35, 38, 59);background-color:rgba(255, 255, 255, 0.9);&#34;&gt;3、操作步骤&lt;/font&gt;
&lt;/h3&gt;&lt;p&gt;1、在vm2 上下载frp&lt;/p&gt;
&lt;p&gt;访问网址&lt;a class=&#34;link&#34; href=&#34;https://github.com/fatedier/frp/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/fatedier/frp/releases&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;根据自己的操作系统下载对应的版本&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/img/socks5-2.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;2、然后进行解压，解压之后下面有几个文件&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/img/socks5-3.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;3、编辑frpc.toml和frps.toml。&lt;/p&gt;
&lt;p&gt;frpc.toml&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/img/socks5-4.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;frps.toml&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://example.com/img/socks5-5.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;4、然后分别启动frps和frpc&lt;/p&gt;
&lt;p&gt;./frps -c frps.toml&lt;/p&gt;
&lt;p&gt;./frpc -c frpc.toml&lt;/p&gt;
&lt;p&gt;5、然后vm1便可以通过访问vm2ip:1080来访问到公网&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
